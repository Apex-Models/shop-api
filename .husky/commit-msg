# RÃ©cupÃ©ration du message de commit
commit_message=$(cat "$1")

echo "ğŸ“ Validation du message de commit..."

# VÃ©rifier que le message n'est pas vide
if [ -z "$commit_message" ]; then
    echo "âŒ Le message de commit ne peut pas Ãªtre vide"
    exit 1
fi

# VÃ©rifier la longueur minimale (au moins 10 caractÃ¨res)
if [ ${#commit_message} -lt 10 ]; then
    echo "âŒ Le message de commit doit faire au moins 10 caractÃ¨res"
    echo "Message actuel: '$commit_message' (${#commit_message} caractÃ¨res)"
    exit 1
fi

# Suggestions pour de bons messages (optionnel, avertissement seulement)
if ! echo "$commit_message" | grep -qE "^(feat|fix|docs|style|refactor|test|chore|perf)(\(.+\))?: .+"; then
    echo "ğŸ’¡ Suggestion: Utilisez le format 'type: description'"
    echo "   Exemples: feat: add user login, fix: resolve CORS issue"
    echo "   Types: feat, fix, docs, style, refactor, test, chore, perf"
fi

echo "âœ… Message de commit valide: $commit_message" 